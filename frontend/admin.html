<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/panelTabs.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
</head>

<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            <h2>Regisdom</h2>
        </div>
        <nav class="menu">
            <a href="admin.html"><i class="bx bx-home"></i> Inicio</a>
            <a href="prestamos.html"><i class="bx bx-wallet"></i> Prestamos</a>
            <a href="cartulinas.html"><i class="bx bx-book"></i> Cartulinas</a>
            <a href="clientes.html"><i class="bx bx-group"></i> Clientes</a>
            <a href="cobradores.html"><i class="bx bx-id-card"></i> Cobradores</a>
        </nav>

        <nav class="menu-confi">
            <a href="perfilAdmin.html"><i class="bx bx-user"></i> Perfil</a>
            <a href="ajustesAdmin.html"><i class="bx bx-cog"></i> Ajustes</a>
            <button onclick="logout()"><i class="bx bx-log-out"></i> Cerrar sesión</button>
        </nav>
    </aside>

    <!-- Main content -->
    <main class="content">
        <header class="topbar">
            <h1>Dashboard</h1>
        </header>

        <section class="negocio-nombre">
            <h2><span id="negocio-nombre"></span></h2>
        </section>

        <section class="panel-tabs">
            <div class="tabs">
                <button class="tab-btn active" data-tab="clientes">Clientes</button>
                <button class="tab-btn" data-tab="prestamos">Préstamos</button>
                <button class="tab-btn" data-tab="cartulinas">Cartulinas</button>
            </div>

            <div class="tab-content active" id="clientes">
                <h2>Lista de Clientes</h2>
                <div id="lista-clientes"></div>
            </div>

            <div class="tab-content" id="prestamos">
                <div class="prestamos-subtabs">
                    <button class="subtab-btn active" data-subtab="pendientes">Pendientes</button>
                    <button class="subtab-btn" data-subtab="activos">Activos</button>
                    <button class="subtab-btn" data-subtab="todos">Todos los Préstamos</button>
                </div>

                <div class="subtab-content active" id="pendientes">
                    <h2>Solicitudes de Préstamos Pendientes</h2>
                    <div id="lista-prestamos-pendientes"></div>
                </div>

                <div class="subtab-content" id="activos">
                    <h2>Préstamos Activos</h2>
                    <div id="lista-prestamos-activos"></div>
                </div>

                <div class="subtab-content" id="todos">
                    <h2>Todos los Préstamos</h2>
                    <div id="lista-prestamos-todos"></div>
                </div>
            </div>

            <div class="tab-content" id="cartulinas">
                <h2>Cartulinas generadas</h2>
                <div id="lista-cartulinas"></div>
            </div>
        </section>

        <!-- Estadísticas -->
        <section class="estadisticas">
            <h2>Estadísticas del negocio</h2>
            <div class="stats-grid">
                <div class="stat-box">
                    <h3 id="prestamos-activos">0</h3>
                    <p>Préstamos activos</p>
                </div>
                <div class="stat-box">
                    <h3 id="clientes-registrados">0</h3>
                    <p>Clientes registrados</p>
                </div>
                <div class="stat-box">
                    <h3 id="total-cobradores">0</h3>
                    <p>Cobradores</p>
                </div>
            </div>
        </section>

        <!-- Modal Aceptar Préstamo -->
        <div id="modal-aceptar" class="modal">
            <div class="modal-content">
                <h2>Aceptar Préstamo</h2>
                <form id="form-aceptar">
                    <input type="hidden" id="prestamo-id">
                    <p><b>Cliente:</b> <span id="nombre-cliente"></span></p>
                    <label>Dirección:</label>
                    <input type="text" id="direccion" required>
                    <label>Teléfono:</label>
                    <input type="text" id="telefono" required>
                    <div class="modal-actions">
                        <button type="submit" class="btn-listo">Listo</button>
                        <button type="button" class="btn-cancelar" onclick="cerrarModal()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal Editar Cliente -->
        <div id="modal-editar" class="modal">
            <div class="modal-content">
                <h2>Editar Cliente</h2>
                <form id="form-editar">
                    <input type="hidden" id="editar-id">

                    <label>Nombre:</label>
                    <input type="text" id="editar-nombre" required>

                    <label>Email:</label>
                    <input type="email" id="editar-email">

                    <label>Negocio ID:</label>
                    <input type="number" id="editar-negocio-id">

                    <div class="modal-actions">
                        <button type="submit" class="btn-guardar">Guardar</button>
                        <button type="button" class="btn-cancelar" onclick="cerrarModalEditar()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <script src="js/admin.js"></script>
</body>

</html>